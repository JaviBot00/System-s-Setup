# Precedentes
apt update
apt -y dist-upgrade
apt -y install lsb-release apt-transport-https ca-certificates curl gnupg-agent software-properties-common

# AÃ±adir Repos 
# Ubuntu
##curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
##add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"

##curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
##echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Debian
##curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -
##apt-key fingerprint 0EBFCD88
add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable"

# Actualizar e Instalar
apt update
apt-cache policy docker-ce
apt install -y docker-ce docker-ce-cli containerd.io docker-compose docker-buildx-plugin docker-compose-plugin
adduser TUUSUARIO docker
sudo usermod -aG docker ${USER}

#Version principal Portainer
docker run -d --name=Portainer --hostname=Portainer --network=host --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data -e TZ='Europe/Madrid' portainer/portainer

#Version actualizada Portainer
docker run -d -p 9000:9000 -p 9443:9443 --name=Portainer --hostname=Portainer --network=host --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data -e TZ='Europe/Madrid' portainer/portainer-ce:latest

curl -L https://github.com/docker/compose/releases/download/1.25.3/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

curl -L https://downloads.portainer.io/portainer-agent-stack.yml -o portainer-agent-stack.yml
docker stack deploy --compose-file=portainer-agent-stack.yml portainer


#FTP
docker run -d -v /home/hotguy:/home/vsftpd/root -p 20:20 -p 21:21 -p 21100-21110:21100-21110 -e FTP_USER=root -e FTP_PASS=qwerty -e PASV_ADDRESS=192.168.2.210 -e PASV_MIN_PORT=21100 -e PASV_MAX_PORT=21110 -e PASV_PROMISCUOUS=YES -e PORT_PROMISCUOUS=YES -e WRITE_ENABLE=YES --name vsftpd --restart=always fauria/vsftpd


#MineCraft
docker run -d -p 25565:25565 --name=mc-1.16.5 -e EULA=TRUE -e ONLINE_MODE=FALSE -e VERSION=1.16.5 -v /root/minecraft:/data itzg/minecraft-server

docker run -d -p 25565:25565 --name=mc-1.21.9 -e EULA=TRUE -e ONLINE_MODE=FALSE -e VERSION=1.21.9 -v /root/minecraft:/data itzg/minecraft-server

# TomCat
docker run -d -p 8888:8080 --name=TomCatServer --restart=always -v /root/JuegosWeb/:/usr/local/tomcat/webapps/ tomcat